<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>YouTube Master - V21 Full Control</title>
    <style>
        :root { 
            --yt-red: #ff0000; --bg: #f9f9f9; --text: #0f0f0f; 
            --card-bg: #ffffff; --border: #e5e5e5; --blue: #065fd4; --verified: #3ea6ff;
        }
        .dark-mode { --bg: #0f0f0f; --text: #ffffff; --card-bg: #1e1e1e; --border: #333; }

        body { font-family: 'Roboto', sans-serif; background: var(--bg); color: var(--text); margin: 0; transition: 0.3s; }
        .container { max-width: 900px; margin: 40px auto; background: var(--card-bg); padding: 30px; border-radius: 20px; border: 1px solid var(--border); }
        
        header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border); padding-bottom: 20px; margin-bottom: 20px; }
        .btn { padding: 10px 20px; border: none; border-radius: 20px; font-weight: bold; cursor: pointer; transition: 0.2s; margin: 5px 2px; }
        .btn-red { background: var(--yt-red); color: white; }
        .btn-blue { background: var(--blue); color: white; }
        
        input { width: 100%; padding: 14px; margin: 10px 0; background: var(--bg); color: var(--text); border: 1px solid var(--border); border-radius: 12px; }
        
        .v-badge { color: var(--verified); font-weight: bold; margin-left: 5px; }
        .stat-card { background: var(--bg); padding: 20px; border-radius: 15px; border: 1px solid var(--border); margin-bottom: 15px; }
        
        .panel { display: none; padding: 20px; border-radius: 18px; margin-top: 20px; border: 2px solid var(--border); }
        .log-item { padding: 8px; border-bottom: 1px solid var(--border); font-size: 14px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h2 style="margin:0;">üî¥ YouTube Master <span id="header-badge" class="v-badge" style="display:none;">‚úî</span></h2>
        <div>
            <button class="btn" onclick="document.body.classList.toggle('dark-mode')" style="background:var(--border); color:var(--text);">Tema</button>
            <button class="btn btn-red" onclick="location.reload()">Sair</button>
        </div>
    </header>

    <div id="login-box">
        <input type="text" id="u-name" placeholder="Usu√°rio">
        <input type="password" id="u-pass" placeholder="Senha">
        <button class="btn btn-red" style="width:100%" onclick="entrar()">Acessar Painel</button>
    </div>

    <div id="app" style="display:none;">
        <div id="welcome-area" class="stat-card">
            <h3 id="welcome-msg">Bem-vindo</h3>
            <p>Seus Inscritos: <b id="my-subs" style="color:var(--yt-red)">0</b></p>
        </div>

        <div class="stat-card">
            <h4>üîç Gerenciar Canal</h4>
            <div style="display:flex; gap:10px;">
                <input type="text" id="search-input" placeholder="Pesquisar nome...">
                <button class="btn btn-red" onclick="pesquisar()">Buscar</button>
            </div>
            <div id="res-box" style="display:none; margin-top:15px; padding:15px; border:1px solid var(--border); border-radius:10px;">
                <span id="res-name" style="font-size:1.2em; font-weight:bold;"></span>
                <span id="res-badge" class="v-badge" style="display:none;">‚úî</span>
                <p>Inscritos: <b id="res-subs"></b></p>
                <button class="btn btn-blue" onclick="inscrever()">+1 Sub</button>
                <button id="btn-dar-v" class="btn" style="display:none; background:#00c853; color:white;" onclick="toggleVerificado()">Dar/Remover Selo ‚úî</button>
            </div>
        </div>

        <div id="admin-panel" class="panel" style="border-color: var(--yt-red);">
            <h4 style="color:var(--yt-red);">üõ† CONTROLE MASTER</h4>
            <input type="text" id="ban-alvo" placeholder="Usu√°rio para banir">
            <button class="btn btn-red" style="width:100%" onclick="banir()">BANIR AGORA</button>
        </div>

        <div id="logs-panel" class="panel" style="border-color: var(--blue);">
            <h4 style="color:var(--blue);">üìú REGISTROS DO SISTEMA</h4>
            <div id="logs-list"></div>
        </div>
    </div>
</div>

<script>
    let logado = "";
    let alvoBusca = "";

    function getDB() {
        return JSON.parse(localStorage.getItem('yt_v21_db')) || { 
            usuarios: ["admin", "adminlogs", "suporte"], 
            banidos: [], 
            subs: {"admin": 11000000, "adminlogs": 0, "suporte": 100},
            verificados: ["admin"] 
        };
    }
    function saveDB(db) { localStorage.setItem('yt_v21_db', JSON.stringify(db)); }

    function entrar() {
        const u = document.getElementById('u-name').value.trim().toLowerCase();
        const p = document.getElementById('u-pass').value.trim();
        let db = getDB();

        if(db.banidos.includes(u)) return alert("Conta Banida!");

        logado = u;
        if(!db.usuarios.includes(u)) {
            db.usuarios.push(u);
            db.subs[u] = 0;
            saveDB(db);
        }

        document.getElementById('login-box').style.display = 'none';
        document.getElementById('app').style.display = 'block';
        document.getElementById('my-subs').innerText = db.subs[u].toLocaleString();
        document.getElementById('welcome-msg').innerHTML = "Ol√°, " + u + (db.verificados.includes(u) ? ' <span class="v-badge">‚úî</span>' : '');
        if(db.verificados.includes(u)) document.getElementById('header-badge').style.display = 'inline';

        // L√≥gica de Pain√©is
        if(u === "admin" && p === "123") document.getElementById('admin-panel').style.display = 'block';
        if(u === "adminlogs") {
            document.getElementById('logs-panel').style.display = 'block';
            atualizarLogs();
        }
    }

    function pesquisar() {
        let db = getDB();
        let busca = document.getElementById('search-input').value.trim().toLowerCase();
        if(db.usuarios.includes(busca)) {
            alvoBusca = busca;
            document.getElementById('res-box').style.display = 'block';
            document.getElementById('res-name').innerText = busca;
            document.getElementById('res-subs').innerText = db.subs[busca].toLocaleString();
            document.getElementById('res-badge').style.display = db.verificados.includes(busca) ? 'inline' : 'none';
            
            // Se for admin, mostra o bot√£o de dar selo
            if(logado === "admin") document.getElementById('btn-dar-v').style.display = 'inline-block';
        } else { alert("Canal n√£o encontrado!"); }
    }

    function toggleVerificado() {
        let db = getDB();
        if(db.verificados.includes(alvoBusca)) {
            db.verificados = db.verificados.filter(v => v !== alvoBusca);
        } else {
            db.verificados.push(alvoBusca);
        }
        saveDB(db);
        pesquisar(); // Atualiza a tela
    }

    function inscrever() {
        let db = getDB();
        db.subs[alvoBusca]++;
        saveDB(db);
        document.getElementById('res-subs').innerText = db.subs[alvoBusca].toLocaleString();
    }

    function banir() {
        let db = getDB();
        let alvo = document.getElementById('ban-alvo').value.trim().toLowerCase();
        if(alvo && alvo !== "admin") {
            db.banidos.push(alvo);
            saveDB(db);
            alert(alvo + " banido!");
            if(logado === "adminlogs") atualizarLogs();
        }
    }

    function atualizarLogs() {
        let db = getDB();
        document.getElementById('logs-list').innerHTML = db.usuarios.map(u => `
            <div class="log-item">
                üë§ <b>${u}</b> | Subs: ${db.subs[u]} | ${db.banidos.includes(u) ? '<span style="color:red">BANIDO</span>' : '<span style="color:green">ATIVO</span>'}
            </div>
        `).join('');
    }
</script>
</body>
</html>
