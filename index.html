<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>YouTube Master - V22 DataSave</title>
    <style>
        :root { 
            --yt-red: #ff0000; --bg: #f9f9f9; --text: #0f0f0f; 
            --card-bg: #ffffff; --border: #e5e5e5; --blue: #065fd4; --verified: #3ea6ff;
        }
        .dark-mode { --bg: #0f0f0f; --text: #ffffff; --card-bg: #1e1e1e; --border: #333; }

        body { font-family: 'Roboto', sans-serif; background: var(--bg); color: var(--text); margin: 0; transition: 0.3s; }
        .container { max-width: 900px; margin: 40px auto; background: var(--card-bg); padding: 30px; border-radius: 20px; border: 1px solid var(--border); box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        
        header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border); padding-bottom: 20px; margin-bottom: 20px; }
        .btn { padding: 10px 20px; border: none; border-radius: 20px; font-weight: bold; cursor: pointer; transition: 0.2s; margin: 5px 2px; }
        .btn-red { background: var(--yt-red); color: white; }
        .btn-blue { background: var(--blue); color: white; }
        
        input { width: 100%; padding: 14px; margin: 10px 0; background: var(--bg); color: var(--text); border: 1px solid var(--border); border-radius: 12px; outline: none; }
        
        .v-badge { color: var(--verified); font-weight: bold; margin-left: 5px; }
        .stat-card { background: var(--bg); padding: 20px; border-radius: 15px; border: 1px solid var(--border); margin-bottom: 15px; }
        
        .panel { display: none; padding: 20px; border-radius: 18px; margin-top: 20px; border: 2px solid var(--border); }
        .staff-tag { font-size: 10px; background: #eee; padding: 2px 8px; border-radius: 10px; color: #666; text-transform: uppercase; margin-left: 10px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h2 style="margin:0;">üî¥ YouTube Master <span id="header-badge" class="v-badge" style="display:none;">‚úî</span></h2>
        <button class="btn" onclick="document.body.classList.toggle('dark-mode')" style="background:var(--border); color:var(--text);">üåì Tema</button>
    </header>

    <div id="login-box">
        <h3 style="text-align: center;">Painel de Acesso</h3>
        <input type="text" id="u-name" placeholder="Usu√°rio">
        <input type="password" id="u-pass" placeholder="Senha">
        <button class="btn btn-red" style="width:100%" onclick="entrar()">ENTRAR</button>
    </div>

    <div id="app" style="display:none;">
        <div class="stat-card">
            <h3 id="welcome-msg">Bem-vindo</h3>
            <p>Seus Inscritos: <b id="my-subs" style="color:var(--yt-red)">0</b></p>
        </div>

        <div class="stat-card">
            <h4>üîç Pesquisar Canal</h4>
            <div style="display:flex; gap:10px;">
                <input type="text" id="search-input" placeholder="Nome do canal...">
                <button class="btn btn-red" onclick="pesquisar()">Buscar</button>
            </div>
            <div id="res-box" style="display:none; margin-top:15px; padding:15px; border:1px solid var(--border); border-radius:10px;">
                <span id="res-name" style="font-size:1.2em; font-weight:bold;"></span>
                <span id="res-badge" class="v-badge" style="display:none;">‚úî</span>
                <p>Inscritos: <b id="res-subs"></b></p>
                <button class="btn btn-blue" onclick="inscrever()">+1 Inscrito</button>
                <button id="btn-admin-v" class="btn" style="display:none; background:#00c853; color:white;" onclick="toggleVerificado()">Dar Selo ‚úî</button>
            </div>
        </div>

        <div id="admin-panel" class="panel" style="border-color: var(--yt-red);">
            <h4 style="color:var(--yt-red);">üõ† CONTROLE DO DONO</h4>
            <input type="text" id="ban-alvo" placeholder="Nome do usu√°rio para banir">
            <button class="btn btn-red" style="width:100%" onclick="banir()">EXPULSAR DO SISTEMA</button>
        </div>

        <div id="staff-panel" class="panel" style="border-color: var(--blue);">
            <h4 style="color:var(--blue);">üìú REGISTROS DE STAFF</h4>
            <div id="logs-list"></div>
        </div>

        <button class="btn" style="background:#666; color:white; width:100%; margin-top:10px;" onclick="location.reload()">Desconectar</button>
    </div>
</div>

<script>
    let logado = "";
    let alvoBusca = "";

    // BANCO DE DADOS QUE SALVA TUDO (Data Save)
    function getDB() {
        // O nome do banco agora √© fixo para n√£o perder dados entre vers√µes
        let db = JSON.parse(localStorage.getItem('YOUTUBE_MASTER_DATA'));
        if(!db) {
            db = {
                usuarios: ["admin", "adminlogs", "suporte"],
                pass: {"admin": "123", "adminlogs": "logs123", "suporte": "tech123"},
                banidos: [],
                subs: {"admin": 11000000, "adminlogs": 0, "suporte": 0},
                verificados: ["admin"],
                cargos: {"admin": "Dono", "adminlogs": "Staff", "suporte": "T√©cnico"}
            };
            saveDB(db);
        }
        return db;
    }

    function saveDB(db) { localStorage.setItem('YOUTUBE_MASTER_DATA', JSON.stringify(db)); }

    function entrar() {
        const u = document.getElementById('u-name').value.trim().toLowerCase();
        const p = document.getElementById('u-pass').value.trim();
        let db = getDB();

        if(db.banidos.includes(u)) return alert("‚ùå ACESSO NEGADO: Voc√™ foi banido!");
        
        // Verifica se a conta existe e a senha bate
        if(db.usuarios.includes(u) && db.pass[u] === p) {
            logado = u;
        } else if(!db.usuarios.includes(u)) {
            // Cria conta nova se n√£o existir
            db.usuarios.push(u);
            db.pass[u] = p;
            db.subs[u] = 0;
            db.cargos[u] = "Usu√°rio";
            saveDB(db);
            logado = u;
        } else {
            return alert("Senha incorreta!");
        }

        document.getElementById('login-box').style.display = 'none';
        document.getElementById('app').style.display = 'block';
        
        // Atualiza UI
        document.getElementById('my-subs').innerText = db.subs[u].toLocaleString();
        document.getElementById('welcome-msg').innerHTML = `Ol√°, ${u} <span class="staff-tag">${db.cargos[u]}</span>`;
        if(db.verificados.includes(u)) {
            document.getElementById('welcome-msg').innerHTML += ' <span class="v-badge">‚úî</span>';
            document.getElementById('header-badge').style.display = 'inline';
        }

        // Mostrar pain√©is por cargo
        if(db.cargos[u] === "Dono") document.getElementById('admin-panel').style.display = 'block';
        if(db.cargos[u] === "Staff" || db.cargos[u] === "Dono") {
            document.getElementById('staff-panel').style.display = 'block';
            atualizarLogs();
        }
    }

    function pesquisar() {
        let db = getDB();
        let busca = document.getElementById('search-input').value.trim().toLowerCase();
        if(db.usuarios.includes(busca)) {
            alvoBusca = busca;
            document.getElementById('res-box').style.display = 'block';
            document.getElementById('res-name').innerText = busca;
            document.getElementById('res-subs').innerText = db.subs[busca].toLocaleString();
            document.getElementById('res-badge').style.display = db.verificados.includes(busca) ? 'inline' : 'none';
            
            // Bot√£o de verificado s√≥ aparece para o Dono
            if(db.cargos[logado] === "Dono") document.getElementById('btn-admin-v').style.display = 'inline-block';
        } else { alert("Canal n√£o encontrado!"); }
    }

    function toggleVerificado() {
        let db = getDB();
        if(db.verificados.includes(alvoBusca)) {
            db.verificados = db.verificados.filter(v => v !== alvoBusca);
        } else {
            db.verificados.push(alvoBusca);
        }
        saveDB(db);
        pesquisar();
    }

    function inscrever() {
        let db = getDB();
        db.subs[alvoBusca]++;
        saveDB(db);
        document.getElementById('res-subs').innerText = db.subs[alvoBusca].toLocaleString();
        if(logado === alvoBusca) document.getElementById('my-subs').innerText = db.subs[alvoBusca].toLocaleString();
    }

    function banir() {
        let db = getDB();
        let alvo = document.getElementById('ban-alvo').value.trim().toLowerCase();
        if(alvo && db.cargos[alvo] !== "Dono") {
            db.banidos.push(alvo);
            saveDB(db);
            alert("O usu√°rio " + alvo + " foi banido!");
            atualizarLogs();
        } else {
            alert("Imposs√≠vel banir este usu√°rio.");
        }
    }

    function atualizarLogs() {
        let db = getDB();
        document.getElementById('logs-list').innerHTML = db.usuarios.map(u => `
            <div style="padding:10px; border-bottom:1px solid #eee; display:flex; justify-content:space-between;">
                <span>üë§ <b>${u}</b> <small>(${db.cargos[u]})</small></span>
                <span>${db.subs[u]} subs ${db.banidos.includes(u) ? 'üî¥' : 'üü¢'}</span>
            </div>
        `).join('');
    }
</script>
</body>
    </html>
    
